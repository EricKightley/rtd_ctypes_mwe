# rtd_ctypes_mwe
Minimum working example to generate documentation on readthedocs.io for a
python package with a ctypes shared library.

Installation
------------

To install the package, clone the repository, make a virtual environment and
activate it, change directory to `rdt_ctypes_mwe/`, then:

    python setup.py build_ext --inplace
    pip install .

To test the installation, run:

    pytest

Documentation
-------------

Documentation is built using sphinx in the ``docs`` directory. With sphinx
installed, the documentation can be built locally
(after installing the package as above) by running

    make html

in `docs/`. Then ``docs/_build/html/ctypes_submodule.html`` has auto-generated documentation for
the ``add_vectors`` function.

The contents of `docs/` were generated by the following:

- Initialize via ``sphinx-quickstart``.
- Create of ``docs/ctypes_submodule.rst``.
- Modify of ``docs/index.rst`` to include ``ctypes_submodule``.
- Uncommenting lines 13-15 of ``docs/conf.py`` and modifying the path on line
  15 from ``.`` to ``..`` so that the documentation can be found locally.
- Add ``'sphinx.ext.autodoc'`` the list of extensions in
- Add ``master_doc = 'index'`` to ``docs/conf.py`` so that readthedocs knows to replace
  ``contents.rst`` with ``index.rst``.
- Add ``.readthedocs.yml`` to the root directory, copied from
  https://docs.readthedocs.io/en/stable/config-file/v2.html.
- Add  ``builder: html`` and ``fail_on_warning: true`` to ``sphinx`` in the yml.
- Add ``docs/requirements.txt`` with ``numpy``.
- Add ``docs/_static/.gitignore`` to ensure that ``_static`` is included in the repository,
  so that ``make html`` runs on clone.
